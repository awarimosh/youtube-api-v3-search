!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.searchYoutube=t():e.searchYoutube=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var s=r[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";var n=r(1),s=r(8);e.exports=function(e,t,r){return s(n,e,t,r)}},function(e,t,r){"use strict";var n=r(2).XMLHttpRequest;e.exports=function(e){var t=new n;return new Promise(function(r,n){t.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var e=JSON.parse(this.response);r(e)}else{var t=JSON.parse(this.response);n(t)}},t.onerror=function(e){n(new Error(this.statusText))},t.open("GET",e,!0),t.send(null)})}},function(e,t,r){/**
 * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.
 *
 * This can be used with JS designed for browsers to improve reuse of code and
 * allow the use of existing libraries.
 *
 * Usage: include("XMLHttpRequest.js") and use XMLHttpRequest per W3C specs.
 *
 * @author Dan DeFelippi <dan@driverdan.com>
 * @contributor David Ellis <d.f.ellis@ieee.org>
 * @license MIT
 */
var n=r(3),s=r(4).spawn,o=r(5);t.XMLHttpRequest=function(){"use strict";var e,t,i=this,a=r(6),u=r(7),c={},h=!1,d={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},f={},p={},l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],E=["TRACE","TRACK","CONNECT"],y=!1,v=!1,w={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null,this.withCredentials=!1;var S=function(e){return h||e&&-1===l.indexOf(e.toLowerCase())},N=function(e){return e&&-1===E.indexOf(e)};this.open=function(e,t,r,n,s){if(this.abort(),v=!1,!N(e))throw new Error("SecurityError: Request method not allowed");c={method:e,url:t.toString(),async:"boolean"!=typeof r||r,user:n||null,password:s||null},x(this.OPENED)},this.setDisableHeaderCheck=function(e){h=e},this.setRequestHeader=function(e,t){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!S(e))return void console.warn('Refused to set unsafe header "'+e+'"');if(y)throw new Error("INVALID_STATE_ERR: send flag is true");e=p[e.toLowerCase()]||e,p[e.toLowerCase()]=e,f[e]=f[e]?f[e]+", "+t:t},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&t&&t.headers&&t.headers[e.toLowerCase()]&&!v?t.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||v)return"";var e="";for(var r in t.headers)"set-cookie"!==r&&"set-cookie2"!==r&&(e+=r+": "+t.headers[r]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&p[e.toLowerCase()]?f[p[e.toLowerCase()]]:""},this.send=function(r){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(y)throw new Error("INVALID_STATE_ERR: send has already been called");var h,l=!1,E=!1,w=n.parse(c.url);switch(w.protocol){case"https:":l=!0;case"http:":h=w.hostname;break;case"file:":E=!0;break;case void 0:case null:case"":h="localhost";break;default:throw new Error("Protocol not supported.")}if(E){if("GET"!==c.method)throw new Error("XMLHttpRequest: Only GET method is supported");if(c.async)o.readFile(w.pathname,"utf8",function(e,t){e?i.handleError(e):(i.status=200,i.responseText=t,x(i.DONE))});else try{this.responseText=o.readFileSync(w.pathname,"utf8"),this.status=200,x(i.DONE)}catch(e){this.handleError(e)}}else{var S=w.port||(l?443:80),N=w.pathname+(w.search?w.search:"");for(var g in d)p[g.toLowerCase()]||(f[g]=d[g]);if(f.Host=h,l&&443===S||80===S||(f.Host+=":"+w.port),c.user){void 0===c.password&&(c.password="");var O=new Buffer(c.user+":"+c.password);f.Authorization="Basic "+O.toString("base64")}"GET"===c.method||"HEAD"===c.method?r=null:r?(f["Content-Length"]=Buffer.isBuffer(r)?r.length:Buffer.byteLength(r),f["Content-Type"]||(f["Content-Type"]="text/plain;charset=UTF-8")):"POST"===c.method&&(f["Content-Length"]=0);var T={host:h,port:S,path:N,method:c.method,headers:f,agent:!1,withCredentials:i.withCredentials};if(v=!1,c.async){var C=l?u.request:a.request;y=!0,i.dispatchEvent("readystatechange");var q=function r(s){if(t=s,301===t.statusCode||302===t.statusCode||303===t.statusCode||307===t.statusCode){c.url=t.headers.location;var o=n.parse(c.url);h=o.hostname;var a={hostname:o.hostname,port:o.port,path:o.path,method:303===t.statusCode?"GET":c.method,headers:f,withCredentials:i.withCredentials};return e=C(a,r).on("error",D),void e.end()}t.setEncoding("utf8"),x(i.HEADERS_RECEIVED),i.status=t.statusCode,t.on("data",function(e){e&&(i.responseText+=e),y&&x(i.LOADING)}),t.on("end",function(){y&&(x(i.DONE),y=!1)}),t.on("error",function(e){i.handleError(e)})},D=function(e){i.handleError(e)};e=C(T,q).on("error",D),r&&e.write(r),e.end(),i.dispatchEvent("loadstart")}else{var R=".node-xmlhttprequest-content-"+process.pid,m=".node-xmlhttprequest-sync-"+process.pid;o.writeFileSync(m,"","utf8");for(var L="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(l?"s":"")+".request;var options = "+JSON.stringify(T)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+R+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText}}), 'utf8');fs.unlinkSync('"+m+"');});response.on('error', function(error) {fs.writeFileSync('"+R+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+m+"');});}).on('error', function(error) {fs.writeFileSync('"+R+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+m+"');});"+(r?"req.write('"+JSON.stringify(r).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",b=s(process.argv[0],["-e",L]);o.existsSync(m););var A=JSON.parse(o.readFileSync(R,"utf8"));b.stdin.end(),o.unlinkSync(R),A.err?i.handleError(A.err):(t=A.data,i.status=A.data.statusCode,i.responseText=A.data.text,x(i.DONE))}}},this.handleError=function(e){this.status=0,this.statusText=e,this.responseText=e.stack,v=!0,x(this.DONE),this.dispatchEvent("error")},this.abort=function(){e&&(e.abort(),e=null),f=d,this.status=0,this.responseText="",this.responseXML="",v=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!y||this.readyState===this.DONE||(y=!1,x(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},this.addEventListener=function(e,t){e in w||(w[e]=[]),w[e].push(t)},this.removeEventListener=function(e,t){e in w&&(w[e]=w[e].filter(function(e){return e!==t}))},this.dispatchEvent=function(e){if("function"==typeof i["on"+e]&&i["on"+e](),e in w)for(var t=0,r=w[e].length;t<r;t++)w[e][t].call(i)};var x=function(e){e!=i.LOADING&&i.readyState===e||(i.readyState=e,(c.async||i.readyState<i.OPENED||i.readyState===i.DONE)&&i.dispatchEvent("readystatechange"),i.readyState!==i.DONE||v||(i.dispatchEvent("load"),i.dispatchEvent("loadend")))}}},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t,r){"use strict";function n(e,t){s.options.key=e;for(var r in t)s.options[r]=t[r]}var s=r(9),o=r(10);e.exports=function(e,t,r,i){if(!t&&"function"==typeof i)return i(new Error("API Key is required"));if(!t)throw new Error("API Key is required");n(t,r);var a=o.stringify(s.options);if("function"!=typeof i)return e(s.URL+a);e(s.URL+a).then(function(e){return i(null,e)}).catch(function(e){return i(e)})}},function(e,t,r){"use strict";e.exports.URL="https://www.googleapis.com/youtube/v3/search?",e.exports.options={q:"",part:"snippet",type:"video"}},function(e,t){e.exports=require("querystring")}])});